\doxysubsection{dxfcpp\+::Trade Class Reference}
\hypertarget{classdxfcpp_1_1_trade}{}\label{classdxfcpp_1_1_trade}\index{dxfcpp::Trade@{dxfcpp::Trade}}


{\ttfamily \#include $<$Trade.\+hpp$>$}

Inheritance diagram for dxfcpp\+::Trade\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=7.000000cm]{db/d01/classdxfcpp_1_1_trade}
\end{center}
\end{figure}
\doxysubsubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{classdxfcpp_1_1_trade_a01247f0dbddc302890382a6c1ef579ea}\label{classdxfcpp_1_1_trade_a01247f0dbddc302890382a6c1ef579ea} 
{\bfseries Trade} () noexcept=default
\begin{DoxyCompactList}\small\item\em Creates new trade event with default values. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classdxfcpp_1_1_trade_acd22a0117f9b19fc2869f8b6bd0ff222}{Trade}} (std\+::string event\+Symbol) noexcept
\item 
std\+::string \mbox{\hyperlink{classdxfcpp_1_1_trade_acf5865291043641274a0738e96bff2d0}{to\+String}} () const noexcept override
\end{DoxyCompactItemize}
\doxyparagraph*{Public Member Functions inherited from \mbox{\hyperlink{classdxfcpp_1_1_trade_base}{dxfcpp\+::\+Trade\+Base}}}
\begin{DoxyCompactItemize}
\item 
{\bfseries Trade\+Base} () noexcept=default
\begin{DoxyCompactList}\small\item\em Creates new trade event with default values. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classdxfcpp_1_1_trade_base_aa2c14ca3644e13d88c7a8d861c91ab11}{Trade\+Base}} (std\+::string event\+Symbol) noexcept
\item 
std\+::int64\+\_\+t \mbox{\hyperlink{classdxfcpp_1_1_trade_base_a0c3d6a4fabbfb806f3294ca9a7bd0d34}{get\+Time\+Sequence}} () const
\item 
void \mbox{\hyperlink{classdxfcpp_1_1_trade_base_a8758b4148c93eae4e6a2a3b96ba8ba68}{set\+Time\+Sequence}} (std\+::int64\+\_\+t time\+Sequence)
\item 
std\+::int64\+\_\+t \mbox{\hyperlink{classdxfcpp_1_1_trade_base_a8d556992f85473eb05a1629339ae06bb}{get\+Time}} () const
\item 
void \mbox{\hyperlink{classdxfcpp_1_1_trade_base_ac5cfc51077c1e9d42c38228bcce344c4}{set\+Time}} (std\+::int64\+\_\+t time)
\item 
std\+::int64\+\_\+t \mbox{\hyperlink{classdxfcpp_1_1_trade_base_aa9cdfd71396c6b11c9150985a8b82d48}{get\+Time\+Nanos}} () const
\item 
void \mbox{\hyperlink{classdxfcpp_1_1_trade_base_a28ca85b835766b927dce43c8b5681b08}{set\+Time\+Nanos}} (std\+::int64\+\_\+t time\+Nanos)
\item 
void \mbox{\hyperlink{classdxfcpp_1_1_trade_base_abc8a585eda070f5d77cc13b308f08442}{set\+Time\+Nano\+Part}} (std\+::int32\+\_\+t time\+Nano\+Part)
\item 
std\+::int32\+\_\+t \mbox{\hyperlink{classdxfcpp_1_1_trade_base_ac4e64a07833889a96dc9296768bc6e18}{get\+Time\+Nano\+Part}} () const
\item 
std\+::int32\+\_\+t \mbox{\hyperlink{classdxfcpp_1_1_trade_base_a873329b315775de50b6d680b2ff07cbf}{get\+Sequence}} () const
\item 
void \mbox{\hyperlink{classdxfcpp_1_1_trade_base_afde4b11a879abb01340fdfbd8f551079}{set\+Sequence}} (std\+::int32\+\_\+t sequence)
\item 
std\+::int16\+\_\+t \mbox{\hyperlink{classdxfcpp_1_1_trade_base_ae71af9dc3e8dfe64e9c6fed00feb63c1}{get\+Exchange\+Code}} () const
\item 
void \mbox{\hyperlink{classdxfcpp_1_1_trade_base_ad572e1d41c243b532231a5f40581215d}{set\+Exchange\+Code}} (char exchange\+Code)
\item 
void \mbox{\hyperlink{classdxfcpp_1_1_trade_base_a059709808788e0df0a887c9f3cabb98e}{set\+Exchange\+Code}} (std\+::int16\+\_\+t exchange\+Code)
\item 
double \mbox{\hyperlink{classdxfcpp_1_1_trade_base_a62a8e2a537ab5812309f9101c8a05345}{get\+Price}} () const
\item 
void \mbox{\hyperlink{classdxfcpp_1_1_trade_base_aec77f6ce4c38a0e3cd60af41c6d6e1b4}{set\+Price}} (double price)
\item 
double \mbox{\hyperlink{classdxfcpp_1_1_trade_base_af66edf128444c58bfedc0b9dda4c843b}{get\+Size}} () const
\item 
void \mbox{\hyperlink{classdxfcpp_1_1_trade_base_a8a30d5e615d4a866cfbc133f4d115ba4}{set\+Size}} (double size)
\item 
std\+::int32\+\_\+t \mbox{\hyperlink{classdxfcpp_1_1_trade_base_a0f5c370e5d10f0ab4e8bba089e9a6808}{get\+Day\+Id}} () const
\item 
void \mbox{\hyperlink{classdxfcpp_1_1_trade_base_a920c11336e963fe0494f2959796c97aa}{set\+Day\+Id}} (std\+::int32\+\_\+t day\+Id)
\item 
double \mbox{\hyperlink{classdxfcpp_1_1_trade_base_af948ac703cd0889425de2d012b7e8d88}{get\+Day\+Volume}} () const
\item 
void \mbox{\hyperlink{classdxfcpp_1_1_trade_base_a5beaa11bf4c90b4cfb908c2373862764}{set\+Day\+Volume}} (double day\+Volume)
\item 
double \mbox{\hyperlink{classdxfcpp_1_1_trade_base_a7188809db6efb3aa7f2ea0373a0964d4}{get\+Day\+Turnover}} () const
\item 
void \mbox{\hyperlink{classdxfcpp_1_1_trade_base_a0dc1e83dfeebcca625f9ce25240de519}{set\+Day\+Turnover}} (double day\+Turnover)
\item 
const \mbox{\hyperlink{structdxfcpp_1_1_direction}{Direction}} \& \mbox{\hyperlink{classdxfcpp_1_1_trade_base_a65705a4a00af3785df597e80d3024bae}{get\+Tick\+Direction}} () const \&
\item 
void \mbox{\hyperlink{classdxfcpp_1_1_trade_base_a83afbad98bbacb360853f9b76dbfefb3}{set\+Tick\+Direction}} (const \mbox{\hyperlink{structdxfcpp_1_1_direction}{Direction}} \&direction)
\item 
bool \mbox{\hyperlink{classdxfcpp_1_1_trade_base_acbdb37c7e5a24c5d686d699b7280a9a6}{is\+Extended\+Trading\+Hours}} () const
\item 
void \mbox{\hyperlink{classdxfcpp_1_1_trade_base_a80ea78ee387ca3937cbd1c6c1660bd71}{set\+Extended\+Trading\+Hours}} (bool extended\+Trading\+Hours)
\item 
double \mbox{\hyperlink{classdxfcpp_1_1_trade_base_a4d7e8e0fd227121d4a14e93b0592b2e3}{get\+Change}} () const
\item 
void \mbox{\hyperlink{classdxfcpp_1_1_trade_base_aea4ec889fb42e47af6f1e0d3d9193920}{set\+Change}} (double change)
\item 
std\+::string \mbox{\hyperlink{classdxfcpp_1_1_trade_base_a52ae73ef41cf03060509cddecc2d48de}{base\+Fields\+To\+String}} () const noexcept
\end{DoxyCompactItemize}
\doxyparagraph*{Public Member Functions inherited from \mbox{\hyperlink{structdxfcpp_1_1_market_event}{dxfcpp\+::\+Market\+Event}}}
\begin{DoxyCompactItemize}
\item 
const std\+::string \& \mbox{\hyperlink{structdxfcpp_1_1_market_event_a6715bd98e78bd7ec7c0af2d1fb32635b}{get\+Event\+Symbol}} () const override
\item 
void \mbox{\hyperlink{structdxfcpp_1_1_market_event_aa192e63ef22ac5df3a2f5bbdc5fdc75e}{set\+Event\+Symbol}} (const std\+::string \&event\+Symbol) override
\item 
std\+::int64\+\_\+t \mbox{\hyperlink{structdxfcpp_1_1_market_event_ad55afdaf751c1dc146f383c4a05471e1}{get\+Event\+Time}} () const override
\item 
void \mbox{\hyperlink{structdxfcpp_1_1_market_event_aae1c19db5428bc91c9461fb7d46e8274}{set\+Event\+Time}} (std\+::int64\+\_\+t event\+Time) override
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
virtual const std\+::string \& \mbox{\hyperlink{structdxfcpp_1_1_event_type_with_symbol_ae00c099cebda639adbecad51c2ff182b}{get\+Event\+Symbol}} () const=0
\item 
virtual void \mbox{\hyperlink{structdxfcpp_1_1_event_type_with_symbol_a2dc47763bdaf6bf5a33d68b4fd8b34ba}{set\+Event\+Symbol}} (const std\+::string \&event\+Symbol)=0
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
virtual std\+::int64\+\_\+t \mbox{\hyperlink{structdxfcpp_1_1_event_type_a1c940fa37121d98bd99490c03553b99d}{get\+Event\+Time}} () const
\item 
virtual void \mbox{\hyperlink{structdxfcpp_1_1_event_type_a322dde6701934be714d008a0bb20e8fa}{set\+Event\+Time}} (std\+::int64\+\_\+t)
\item 
std\+::string \mbox{\hyperlink{structdxfcpp_1_1_event_type_a54c84141d4eff181553b9064db6500e9}{to\+String}} () const noexcept override
\end{DoxyCompactItemize}
\doxyparagraph*{Public Member Functions inherited from \mbox{\hyperlink{structdxfcpp_1_1_shared_entity}{dxfcpp\+::\+Shared\+Entity}}}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$typename T $>$ }\\bool \mbox{\hyperlink{structdxfcpp_1_1_shared_entity_ac83e17b089df3399f9a2216000ee859e}{is}} () const noexcept
\item 
{\footnotesize template$<$typename T $>$ }\\std\+::shared\+\_\+ptr$<$ T $>$ \mbox{\hyperlink{structdxfcpp_1_1_shared_entity_aa117214d0b4e4fc6979400eff315a8d3}{shared\+As}} () noexcept
\item 
{\footnotesize template$<$typename T $>$ }\\std\+::shared\+\_\+ptr$<$ T $>$ \mbox{\hyperlink{structdxfcpp_1_1_shared_entity_a2d9f44fbc4687b8537f987fcfb577b38}{shared\+As}} () const noexcept
\item 
virtual std\+::string \mbox{\hyperlink{structdxfcpp_1_1_shared_entity_ac5e5e03dd0deb47e0f9b13ee9df9d672}{to\+String}} () const noexcept
\end{DoxyCompactItemize}
\doxyparagraph*{Public Member Functions inherited from \mbox{\hyperlink{structdxfcpp_1_1_entity}{dxfcpp\+::\+Entity}}}
\begin{DoxyCompactItemize}
\item 
virtual {\bfseries \texorpdfstring{$\sim$}{\string~}\+Entity} ()=default
\begin{DoxyCompactList}\small\item\em The default virtual d-\/tor. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsubsection*{Additional Inherited Members}
\doxyparagraph*{Public Types inherited from \mbox{\hyperlink{structdxfcpp_1_1_market_event}{dxfcpp\+::\+Market\+Event}}}
\begin{DoxyCompactItemize}
\item 
using {\bfseries Ptr} = std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{structdxfcpp_1_1_market_event}{Market\+Event}} $>$
\begin{DoxyCompactList}\small\item\em The alias to a type of shared pointer to the \doxylink{structdxfcpp_1_1_market_event}{Market\+Event} object. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxyparagraph*{Public Types inherited from \mbox{\hyperlink{structdxfcpp_1_1_event_type_with_symbol}{dxfcpp\+::\+Event\+Type\+With\+Symbol$<$ std\+::string $>$}}}
\begin{DoxyCompactItemize}
\item 
using {\bfseries Ptr} = std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{structdxfcpp_1_1_event_type_with_symbol}{Event\+Type\+With\+Symbol}}$<$ std\+::string $>$ $>$
\begin{DoxyCompactList}\small\item\em The alias to a type of shared pointer to the \doxylink{structdxfcpp_1_1_event_type_with_symbol}{Event\+Type\+With\+Symbol}\textquotesingle{}s child object. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxyparagraph*{Public Types inherited from \mbox{\hyperlink{structdxfcpp_1_1_event_type}{dxfcpp\+::\+Event\+Type}}}
\begin{DoxyCompactItemize}
\item 
using {\bfseries Ptr} = std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{structdxfcpp_1_1_event_type}{Event\+Type}} $>$
\begin{DoxyCompactList}\small\item\em The alias to a type of shared pointer to the \doxylink{structdxfcpp_1_1_event_type}{Event\+Type}\textquotesingle{}s child object. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxyparagraph*{Public Types inherited from \mbox{\hyperlink{structdxfcpp_1_1_shared_entity}{dxfcpp\+::\+Shared\+Entity}}}
\begin{DoxyCompactItemize}
\item 
using {\bfseries Ptr} = std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{structdxfcpp_1_1_shared_entity}{Shared\+Entity}} $>$
\begin{DoxyCompactList}\small\item\em The simple type synonym for the \doxylink{structdxfcpp_1_1_shared_entity}{Shared\+Entity} type. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxyparagraph*{Public Types inherited from \mbox{\hyperlink{structdxfcpp_1_1_lasting_event}{dxfcpp\+::\+Lasting\+Event}}}
\begin{DoxyCompactItemize}
\item 
using {\bfseries Ptr} = std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{structdxfcpp_1_1_lasting_event}{Lasting\+Event}} $>$
\begin{DoxyCompactList}\small\item\em The alias to a type of shared pointer to the \doxylink{structdxfcpp_1_1_lasting_event}{Lasting\+Event} object. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxyparagraph*{Protected Member Functions inherited from \mbox{\hyperlink{structdxfcpp_1_1_market_event}{dxfcpp\+::\+Market\+Event}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{structdxfcpp_1_1_market_event_afeb8874ca4d6b603d5b941f19e0735cf}{Market\+Event}} (std\+::string event\+Symbol) noexcept
\end{DoxyCompactItemize}
\doxyparagraph*{Static Protected Attributes inherited from \mbox{\hyperlink{classdxfcpp_1_1_trade_base}{dxfcpp\+::\+Trade\+Base}}}
\begin{DoxyCompactItemize}
\item 
static constexpr std\+::uint32\+\_\+t \mbox{\hyperlink{classdxfcpp_1_1_trade_base_a5b2a21a413d01613757151188417715b}{MAX\+\_\+\+SEQUENCE}} = (1U $<$$<$ 22U) -\/ 1U
\end{DoxyCompactItemize}


\doxysubsubsection{Detailed Description}
\doxylink{classdxfcpp_1_1_trade}{Trade} event is a snapshot of the price and size of the last trade during regular trading hours and an overall day volume and day turnover. It represents the most recent information that is available about the regular last trade on the market at any given moment of time.

\doxyparagraph*{Trading sessions}

The \doxylink{classdxfcpp_1_1_trade}{Trade} event defines last trade \doxylink{classdxfcpp_1_1_trade_base_a62a8e2a537ab5812309f9101c8a05345}{price} as officially defined by the corresponding exchange for its {\bfseries{regular trading hours}} (RTH). It also include an official exchange \doxylink{classdxfcpp_1_1_trade_base_af948ac703cd0889425de2d012b7e8d88}{day\+Volume} and \doxylink{classdxfcpp_1_1_trade_base_a7188809db6efb3aa7f2ea0373a0964d4}{day\+Turnover} {\bfseries{for the whole trading day}} identified by \doxylink{classdxfcpp_1_1_trade_base_a0f5c370e5d10f0ab4e8bba089e9a6808}{day\+Id}. So, \doxylink{classdxfcpp_1_1_trade}{Trade} event captures all the official numbers that are typically reported by exchange.

Trades that happen in {\bfseries{extended trading hours}} (ETH, pre-\/market and post-\/market trading sessions), which are typically defined for stocks and ETFs, do not update last trade \doxylink{classdxfcpp_1_1_trade_base_a8d556992f85473eb05a1629339ae06bb}{time}, \doxylink{classdxfcpp_1_1_trade_base_ae71af9dc3e8dfe64e9c6fed00feb63c1}{exchange\+Code}, \doxylink{classdxfcpp_1_1_trade_base_a62a8e2a537ab5812309f9101c8a05345}{price}, \doxylink{classdxfcpp_1_1_trade_base_a4d7e8e0fd227121d4a14e93b0592b2e3}{change}, \doxylink{classdxfcpp_1_1_trade_base_af66edf128444c58bfedc0b9dda4c843b}{size}, and \doxylink{classdxfcpp_1_1_trade_base_a65705a4a00af3785df597e80d3024bae}{tick\+Direction} in the \doxylink{classdxfcpp_1_1_trade}{Trade} event, but they do update \doxylink{classdxfcpp_1_1_trade_base_af948ac703cd0889425de2d012b7e8d88}{day\+Volume} and \doxylink{classdxfcpp_1_1_trade_base_a7188809db6efb3aa7f2ea0373a0964d4}{day\+Turnover}.

During extended trading hours a \doxylink{classdxfcpp_1_1_trade_e_t_h}{Trade\+ETH} event is generated on each trade with its \doxylink{classdxfcpp_1_1_trade_base_acbdb37c7e5a24c5d686d699b7280a9a6}{extended\+Trading\+Hours} property set to {\ttfamily true}.

\doxyparagraph*{Volume and Turnover}

The volume and turnover are included into the \doxylink{classdxfcpp_1_1_trade}{Trade} event instead of \doxylink{classdxfcpp_1_1_summary}{Summary} event, because both volume and turnover typically update with each trade. The \doxylink{classdxfcpp_1_1_trade_base_a0f5c370e5d10f0ab4e8bba089e9a6808}{day\+Id} field identifies current trading day for which volume and turnover statistics are computed. This solution avoids generation of multiple events on each trade during regular trading hours. \doxylink{classdxfcpp_1_1_summary}{Summary} event is generated during the trading day only when new highs or lows are reached or other properties change.

Note that one can compute volume-\/weighted average price (VWAP) for a day by this formula\+: ~\newline
{\ttfamily vwap = \doxylink{classdxfcpp_1_1_trade_base_a7188809db6efb3aa7f2ea0373a0964d4}{day\+Turnover} / \doxylink{classdxfcpp_1_1_trade_base_af948ac703cd0889425de2d012b7e8d88}{day\+Volume};}

\doxyparagraph*{Daily reset}

Daily reset procedure that happens on a schedule during non-\/trading hours resets \doxylink{classdxfcpp_1_1_trade}{Trade} \doxylink{classdxfcpp_1_1_trade_base_af948ac703cd0889425de2d012b7e8d88}{day\+Volume} and \doxylink{classdxfcpp_1_1_trade_base_a7188809db6efb3aa7f2ea0373a0964d4}{day\+Turnover} to math\+::\+NaN and sets \doxylink{classdxfcpp_1_1_trade_base_a0f5c370e5d10f0ab4e8bba089e9a6808}{day\+Id} to the next trading day in preparation to the next day\textquotesingle{}s pre-\/market trading session (or for regular trading if there is no pre-\/market) while leaving all other properties intact. They reflect information about the last known RTH trade until the next RTH trade happens.

\doxyparagraph*{Implementation details}

This event is implemented on top of QDS records {\ttfamily \doxylink{classdxfcpp_1_1_trade}{Trade}} and {\ttfamily \doxylink{classdxfcpp_1_1_trade}{Trade}\&X} for regional exchange trades. Regional records do not explicitly store a field for \doxylink{classdxfcpp_1_1_trade_base_ae71af9dc3e8dfe64e9c6fed00feb63c1}{exchange\+Code} property. 

\doxysubsubsection{Constructor \& Destructor Documentation}
\Hypertarget{classdxfcpp_1_1_trade_acd22a0117f9b19fc2869f8b6bd0ff222}\label{classdxfcpp_1_1_trade_acd22a0117f9b19fc2869f8b6bd0ff222} 
\index{dxfcpp::Trade@{dxfcpp::Trade}!Trade@{Trade}}
\index{Trade@{Trade}!dxfcpp::Trade@{dxfcpp::Trade}}
\doxyparagraph{\texorpdfstring{Trade()}{Trade()}}
{\footnotesize\ttfamily dxfcpp\+::\+Trade\+::\+Trade (\begin{DoxyParamCaption}\item[{std\+::string}]{event\+Symbol }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}, {\ttfamily [noexcept]}}

Creates new trade event with the specified event symbol.


\begin{DoxyParams}{Parameters}
{\em event\+Symbol} & The event symbol. \\
\hline
\end{DoxyParams}


\doxysubsubsection{Member Function Documentation}
\Hypertarget{classdxfcpp_1_1_trade_acf5865291043641274a0738e96bff2d0}\label{classdxfcpp_1_1_trade_acf5865291043641274a0738e96bff2d0} 
\index{dxfcpp::Trade@{dxfcpp::Trade}!toString@{toString}}
\index{toString@{toString}!dxfcpp::Trade@{dxfcpp::Trade}}
\doxyparagraph{\texorpdfstring{toString()}{toString()}}
{\footnotesize\ttfamily std\+::string dxfcpp\+::\+Trade\+::to\+String (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}, {\ttfamily [noexcept]}}

Returns a string representation of the current object.

\begin{DoxyReturn}{Returns}
a string representation 
\end{DoxyReturn}


Reimplemented from \mbox{\hyperlink{structdxfcpp_1_1_event_type_a54c84141d4eff181553b9064db6500e9}{dxfcpp\+::\+Event\+Type}}.


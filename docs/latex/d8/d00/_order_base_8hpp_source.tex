\doxysubsection{Order\+Base.\+hpp}
\hypertarget{_order_base_8hpp_source}{}\label{_order_base_8hpp_source}\index{OrderBase.hpp@{OrderBase.hpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Copyright\ (c)\ 2023\ Devexperts\ LLC.}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ SPDX-\/License-\/Identifier:\ MPL-\/2.0}}
\DoxyCodeLine{00003\ }
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{pragma}\ \textcolor{preprocessor}{once}}
\DoxyCodeLine{00005\ }
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{"{}../../internal/Conf.hpp"{}}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{<}\textcolor{preprocessor}{cassert}\textcolor{preprocessor}{>}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{<}\textcolor{preprocessor}{cstdint}\textcolor{preprocessor}{>}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{<}\textcolor{preprocessor}{memory}\textcolor{preprocessor}{>}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{<}\textcolor{preprocessor}{string}\textcolor{preprocessor}{>}}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{"{}../../internal/Common.hpp"{}}}
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{"{}../EventTypeEnum.hpp"{}}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{"{}../IndexedEvent.hpp"{}}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \textcolor{preprocessor}{"{}../IndexedEventSource.hpp"{}}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#}\textcolor{preprocessor}{include}\ \mbox{\hyperlink{_market_event_8hpp}{"{}MarketEvent.hpp"{}}}}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \textcolor{keyword}{namespace}\ dxfcpp\ \{}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \textcolor{keyword}{struct}\ EventMapper;}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ \textcolor{comment}{//\ TODO:\ implement}}
\DoxyCodeLine{00024\ \textcolor{keyword}{class}\ \mbox{\hyperlink{_conf_8hpp_a2247137e794d0adca60e1208433f3ec9}{DXFCPP\_EXPORT}}\ OrderBase\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{structdxfcpp_1_1_market_event}{MarketEvent}},\ \textcolor{keyword}{public}\ \mbox{\hyperlink{structdxfcpp_1_1_indexed_event}{IndexedEvent}}\ \{}
\DoxyCodeLine{00025\ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{struct}\ EventMapper;}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ \ \ \ \ \textcolor{comment}{/**}}
\DoxyCodeLine{00028\ \textcolor{comment}{\ \ \ \ \ *\ Maximum\ allowed\ sequence\ value.}}
\DoxyCodeLine{00029\ \textcolor{comment}{\ \ \ \ \ *}}
\DoxyCodeLine{00030\ \textcolor{comment}{\ \ \ \ \ *\ @see\ ::setSequence()}}
\DoxyCodeLine{00031\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{00032\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ std::uint32\_t\ MAX\_SEQUENCE\ =\ (1U\ <<\ 22U)\ -\/\ 1U;}
\DoxyCodeLine{00033\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ std::uint64\_t\ SECONDS\_SHIFT\ =\ 32ULL;}
\DoxyCodeLine{00034\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ std::uint64\_t\ MILLISECONDS\_SHIFT\ =\ 22ULL;}
\DoxyCodeLine{00035\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ std::uint64\_t\ MILLISECONDS\_MASK\ =\ 0x3ffULL;}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00038\ \textcolor{comment}{\ \ \ \ \ *\ Flags\ property\ has\ several\ significant\ bits\ that\ are\ packed\ into\ an\ integer\ in\ the\ following\ way:}}
\DoxyCodeLine{00039\ \textcolor{comment}{\ \ \ \ \ *\ \ \ 31..15\ \ \ 14..11\ \ \ \ 10..4\ \ \ \ 3\ \ \ \ 2\ \ \ \ 1\ \ \ \ 0}}
\DoxyCodeLine{00040\ \textcolor{comment}{\ \ \ \ \ *\ +-\/-\/-\/-\/-\/-\/-\/-\/+-\/-\/-\/-\/-\/-\/-\/-\/+-\/-\/-\/-\/-\/-\/-\/-\/+-\/-\/-\/-\/+-\/-\/-\/-\/+-\/-\/-\/-\/+-\/-\/-\/-\/+}}
\DoxyCodeLine{00041\ \textcolor{comment}{\ \ \ \ \ *\ |\ \ \ \ \ \ \ \ |\ Action\ |Exchange|\ \ Side\ \ \ |\ \ Scope\ \ |}}
\DoxyCodeLine{00042\ \textcolor{comment}{\ \ \ \ \ *\ +-\/-\/-\/-\/-\/-\/-\/-\/+-\/-\/-\/-\/-\/-\/-\/-\/+-\/-\/-\/-\/-\/-\/-\/-\/+-\/-\/-\/-\/+-\/-\/-\/-\/+-\/-\/-\/-\/+-\/-\/-\/-\/+}}
\DoxyCodeLine{00043\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \ \ \ \ \textcolor{comment}{//\ ACTION\ values\ are\ taken\ from\ OrderAction\ enum.}}
\DoxyCodeLine{00046\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ std::uint32\_t\ ACTION\_MASK\ =\ 0x0FU;}
\DoxyCodeLine{00047\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ std::uint32\_t\ ACTION\_SHIFT\ =\ 11U;}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \ \ \ \ \textcolor{comment}{//\ EXCHANGE\ values\ are\ ASCII\ chars\ in\ [0,\ 127].}}
\DoxyCodeLine{00050\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ std::uint32\_t\ EXCHANGE\_MASK\ =\ 0x7FU;}
\DoxyCodeLine{00051\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ std::uint32\_t\ EXCHANGE\_SHIFT\ =\ 4U;}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00053\ \ \ \ \ \textcolor{comment}{//\ SIDE\ values\ are\ taken\ from\ Side\ enum.}}
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ std::uint32\_t\ SIDE\_MASK\ =\ 3U;}
\DoxyCodeLine{00055\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ std::uint32\_t\ SIDE\_SHIFT\ =\ 2U;}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00057\ \ \ \ \ \textcolor{comment}{//\ SCOPE\ values\ are\ taken\ from\ Scope\ enum.}}
\DoxyCodeLine{00058\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ std::uint32\_t\ SCOPE\_MASK\ =\ 3U;}
\DoxyCodeLine{00059\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ std::uint32\_t\ SCOPE\_SHIFT\ =\ 0;}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00061\ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00062\ \textcolor{comment}{\ \ \ \ \ *\ Index\ field\ contains\ source\ identifier,\ optional\ exchange\ code\ and\ low-\/end\ index\ (virtual\ id\ or\ MMID).}}
\DoxyCodeLine{00063\ \textcolor{comment}{\ \ \ \ \ *\ Index\ field\ has\ 2\ formats\ depending\ on\ whether\ source\ is\ "{}special"{}\ (see\ OrderSource.isSpecialSourceId()).}}
\DoxyCodeLine{00064\ \textcolor{comment}{\ \ \ \ \ *\ Note:\ both\ formats\ are\ IMPLEMENTATION\ DETAILS,\ they\ are\ subject\ to\ change\ without\ notice.}}
\DoxyCodeLine{00065\ \textcolor{comment}{\ \ \ \ \ *\ \ \ 63..48\ \ \ 47..32\ \ \ 31..16\ \ \ 15..0}}
\DoxyCodeLine{00066\ \textcolor{comment}{\ \ \ \ \ *\ +-\/-\/-\/-\/-\/-\/-\/-\/+-\/-\/-\/-\/-\/-\/-\/-\/+-\/-\/-\/-\/-\/-\/-\/-\/+-\/-\/-\/-\/-\/-\/-\/-\/+}}
\DoxyCodeLine{00067\ \textcolor{comment}{\ \ \ \ \ *\ |\ Source\ |Exchange|\ \ \ \ \ \ Index\ \ \ \ \ \ |\ \ <-\/\ "{}special"{}\ order\ sources\ (non-\/printable\ id\ with\ exchange)}}
\DoxyCodeLine{00068\ \textcolor{comment}{\ \ \ \ \ *\ +-\/-\/-\/-\/-\/-\/-\/-\/+-\/-\/-\/-\/-\/-\/-\/-\/+-\/-\/-\/-\/-\/-\/-\/-\/+-\/-\/-\/-\/-\/-\/-\/-\/+}}
\DoxyCodeLine{00069\ \textcolor{comment}{\ \ \ \ \ *\ \ \ 63..48\ \ \ 47..32\ \ \ 31..16\ \ \ 15..0}}
\DoxyCodeLine{00070\ \textcolor{comment}{\ \ \ \ \ *\ +-\/-\/-\/-\/-\/-\/-\/-\/+-\/-\/-\/-\/-\/-\/-\/-\/+-\/-\/-\/-\/-\/-\/-\/-\/+-\/-\/-\/-\/-\/-\/-\/-\/+}}
\DoxyCodeLine{00071\ \textcolor{comment}{\ \ \ \ \ *\ |\ \ \ \ \ Source\ \ \ \ \ \ |\ \ \ \ \ \ Index\ \ \ \ \ \ |\ \ <-\/\ generic\ order\ sources\ (alphanumeric\ id\ without\ exchange)}}
\DoxyCodeLine{00072\ \textcolor{comment}{\ \ \ \ \ *\ +-\/-\/-\/-\/-\/-\/-\/-\/+-\/-\/-\/-\/-\/-\/-\/-\/+-\/-\/-\/-\/-\/-\/-\/-\/+-\/-\/-\/-\/-\/-\/-\/-\/+}}
\DoxyCodeLine{00073\ \textcolor{comment}{\ \ \ \ \ *\ Note:\ when\ modifying\ formats\ track\ usages\ of\ getIndex/setIndex,\ getSource/setSource\ and\ isSpecialSourceId}}
\DoxyCodeLine{00074\ \textcolor{comment}{\ \ \ \ \ *\ methods\ in\ order\ to\ find\ and\ modify\ all\ code\ dependent\ on\ current\ formats.}}
\DoxyCodeLine{00075\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00077\ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00078\ \textcolor{comment}{\ \ \ \ \ *\ EventFlags\ property\ has\ several\ significant\ bits\ that\ are\ packed\ into\ an\ integer\ in\ the\ following\ way:}}
\DoxyCodeLine{00079\ \textcolor{comment}{\ \ \ \ \ *\ \ \ \ 31..7\ \ \ \ 6\ \ \ \ 5\ \ \ \ 4\ \ \ \ 3\ \ \ \ 2\ \ \ \ 1\ \ \ \ 0}}
\DoxyCodeLine{00080\ \textcolor{comment}{\ \ \ \ \ *\ +-\/-\/-\/-\/-\/-\/-\/-\/-\/+-\/-\/-\/-\/+-\/-\/-\/-\/+-\/-\/-\/-\/+-\/-\/-\/-\/+-\/-\/-\/-\/+-\/-\/-\/-\/+-\/-\/-\/-\/+}}
\DoxyCodeLine{00081\ \textcolor{comment}{\ \ \ \ \ *\ |\ \ \ \ \ \ \ \ \ |\ SM\ |\ \ \ \ |\ SS\ |\ SE\ |\ SB\ |\ RE\ |\ TX\ |}}
\DoxyCodeLine{00082\ \textcolor{comment}{\ \ \ \ \ *\ +-\/-\/-\/-\/-\/-\/-\/-\/-\/+-\/-\/-\/-\/+-\/-\/-\/-\/+-\/-\/-\/-\/+-\/-\/-\/-\/+-\/-\/-\/-\/+-\/-\/-\/-\/+-\/-\/-\/-\/+}}
\DoxyCodeLine{00083\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00085\ \ \ \ \ \textcolor{keyword}{struct}\ Data\ \{}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ std::int32\_t\ eventFlags\{\};}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ std::int64\_t\ index\{\};}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ std::int64\_t\ timeSequence\{\};}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ std::int32\_t\ timeNanoPart\{\};}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ std::int64\_t\ actionTime\{\};}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ std::int64\_t\ orderId\{\};}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ std::int64\_t\ auxOrderId\{\};}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ price\ =\ math::NaN;}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ size\ =\ math::NaN;}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ executedSize\ =\ math::NaN;}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ std::int64\_t\ count\{\};}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ std::int32\_t\ flags\{\};}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ std::int64\_t\ tradeId\{\};}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ tradePrice\ =\ math::NaN;}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ tradeSize\ =\ math::NaN;}
\DoxyCodeLine{00101\ \ \ \ \ \};}
\DoxyCodeLine{00102\ }
\DoxyCodeLine{00103\ \ \ \ \ Data\ data\_\{\};}
\DoxyCodeLine{00104\ \};}
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00106\ \}\ \textcolor{comment}{//\ namespace\ dxfcpp}}

\end{DoxyCode}

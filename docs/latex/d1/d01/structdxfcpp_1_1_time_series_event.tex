\doxysubsection{dxfcpp\+::Time\+Series\+Event Struct Reference}
\hypertarget{structdxfcpp_1_1_time_series_event}{}\label{structdxfcpp_1_1_time_series_event}\index{dxfcpp::TimeSeriesEvent@{dxfcpp::TimeSeriesEvent}}


{\ttfamily \#include $<$Time\+Series\+Event.\+hpp$>$}

Inheritance diagram for dxfcpp\+::Time\+Series\+Event\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.658228cm]{d1/d01/structdxfcpp_1_1_time_series_event}
\end{center}
\end{figure}
\doxysubsubsubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{structdxfcpp_1_1_time_series_event_a5c647f31ab9acefb87b6fe51ac244e64}\label{structdxfcpp_1_1_time_series_event_a5c647f31ab9acefb87b6fe51ac244e64} 
using {\bfseries Ptr} = std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{structdxfcpp_1_1_time_series_event}{Time\+Series\+Event}} $>$
\begin{DoxyCompactList}\small\item\em The alias to a type of shared pointer to the \doxylink{structdxfcpp_1_1_time_series_event}{Time\+Series\+Event} object. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxyparagraph*{Public Types inherited from \mbox{\hyperlink{structdxfcpp_1_1_indexed_event}{dxfcpp\+::\+Indexed\+Event}}}
\begin{DoxyCompactItemize}
\item 
using {\bfseries Ptr} = std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{structdxfcpp_1_1_indexed_event}{Indexed\+Event}} $>$
\begin{DoxyCompactList}\small\item\em The alias to a type of shared pointer to the \doxylink{structdxfcpp_1_1_indexed_event}{Indexed\+Event} object. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
const \mbox{\hyperlink{classdxfcpp_1_1_indexed_event_source}{Indexed\+Event\+Source}} \& \mbox{\hyperlink{structdxfcpp_1_1_time_series_event_a88cd636f29e59354d90e0c950f8d40dd}{get\+Source}} () const \&override
\item 
std\+::int64\+\_\+t \mbox{\hyperlink{structdxfcpp_1_1_time_series_event_a39fffa9fafd510b6d7196c30fd60d2af}{get\+Index}} () const override
\item 
virtual std\+::int64\+\_\+t \mbox{\hyperlink{structdxfcpp_1_1_time_series_event_abef7e1d502d589d2bde10cef8a293b6a}{get\+Event\+Id}} () const
\item 
virtual std\+::int64\+\_\+t \mbox{\hyperlink{structdxfcpp_1_1_time_series_event_a8fc390c9819bd531ef1847d6d21260ee}{get\+Time}} () const =0
\end{DoxyCompactItemize}
\doxyparagraph*{Public Member Functions inherited from \mbox{\hyperlink{structdxfcpp_1_1_indexed_event}{dxfcpp\+::\+Indexed\+Event}}}
\begin{DoxyCompactItemize}
\item 
virtual const \mbox{\hyperlink{classdxfcpp_1_1_indexed_event_source}{Indexed\+Event\+Source}} \& \mbox{\hyperlink{structdxfcpp_1_1_indexed_event_a7faa078d92c4dfa028ed282e57a44bbe}{get\+Source}} () const \&=0
\item 
virtual Event\+Flags\+Mask \mbox{\hyperlink{structdxfcpp_1_1_indexed_event_ab7b4f00787ca6ff4dfccb092780543d5}{get\+Event\+Flags}} () const =0
\item 
virtual void \mbox{\hyperlink{structdxfcpp_1_1_indexed_event_a049e048fd9cbccd2e8895b94d9e6708d}{set\+Event\+Flags}} (const Event\+Flags\+Mask \&event\+Flags)=0
\item 
virtual std\+::int64\+\_\+t \mbox{\hyperlink{structdxfcpp_1_1_indexed_event_aae9e9062b587619ae8b5e200a49c66c2}{get\+Index}} () const =0
\item 
virtual void \mbox{\hyperlink{structdxfcpp_1_1_indexed_event_aaaa00c65f53ffe3d969514e2cb70226f}{set\+Index}} (std\+::int64\+\_\+t index)=0
\end{DoxyCompactItemize}
\doxysubsubsubsection*{Additional Inherited Members}
\doxyparagraph*{Static Public Attributes inherited from \mbox{\hyperlink{structdxfcpp_1_1_indexed_event}{dxfcpp\+::\+Indexed\+Event}}}
\begin{DoxyCompactItemize}
\item 
static const \mbox{\hyperlink{classdxfcpp_1_1_event_flag}{Event\+Flag}} \mbox{\hyperlink{structdxfcpp_1_1_indexed_event_aa0fa82f8632275341f08649124aa89e3}{TX\+\_\+\+PENDING}} = Event\+Flag\+::\+TX\+\_\+\+PENDING
\item 
static const \mbox{\hyperlink{classdxfcpp_1_1_event_flag}{Event\+Flag}} \mbox{\hyperlink{structdxfcpp_1_1_indexed_event_ae3cd8ed3be94e645913ccd23bfc07edd}{REMOVE\+\_\+\+EVENT}} = Event\+Flag\+::\+REMOVE\+\_\+\+EVENT
\item 
static const \mbox{\hyperlink{classdxfcpp_1_1_event_flag}{Event\+Flag}} \mbox{\hyperlink{structdxfcpp_1_1_indexed_event_aacdbdadf8af938b9edbe9a59830aa0b5}{SNAPSHOT\+\_\+\+BEGIN}} = Event\+Flag\+::\+SNAPSHOT\+\_\+\+BEGIN
\item 
static const \mbox{\hyperlink{classdxfcpp_1_1_event_flag}{Event\+Flag}} \mbox{\hyperlink{structdxfcpp_1_1_indexed_event_a8140c207eb5efb3f656842509700366f}{SNAPSHOT\+\_\+\+END}} = Event\+Flag\+::\+SNAPSHOT\+\_\+\+END
\item 
static const \mbox{\hyperlink{classdxfcpp_1_1_event_flag}{Event\+Flag}} \mbox{\hyperlink{structdxfcpp_1_1_indexed_event_a0615ae7acfc0032e03ada68c26433aa5}{SNAPSHOT\+\_\+\+SNIP}} = Event\+Flag\+::\+SNAPSHOT\+\_\+\+SNIP
\item 
static const \mbox{\hyperlink{classdxfcpp_1_1_event_flag}{Event\+Flag}} \mbox{\hyperlink{structdxfcpp_1_1_indexed_event_a70abbd72b7c45f74886a902df5928829}{SNAPSHOT\+\_\+\+MODE}} = Event\+Flag\+::\+SNAPSHOT\+\_\+\+MODE
\end{DoxyCompactItemize}


\doxysubsubsection{Detailed Description}
Represents time-\/series snapshots of some process that is evolving in time or actual events in some external system that have an associated time stamp and can be uniquely identified. For example, \doxylink{classdxfcpp_1_1_time_and_sale}{Time\+And\+Sale} events represent the actual sales that happen on a market exchange at specific time moments, while Candle events represent snapshots of aggregate information about trading over a specific time period.

Time-\/series events can be used with DXFeed\+Time\+Series\+Subscription to receive a time-\/series history of past events. Time-\/series events are conflated based on unique \doxylink{structdxfcpp_1_1_time_series_event_a39fffa9fafd510b6d7196c30fd60d2af}{index} for each symbol. Last indexed event for each symbol and index is always delivered to event listeners on subscription, but intermediate (next-\/to-\/last) events for each symbol+index pair are not queued anywhere, they are simply discarded as stale events.

Timestamp of an event is available via \doxylink{structdxfcpp_1_1_time_series_event_a8fc390c9819bd531ef1847d6d21260ee}{time} property with a millisecond precision. Some events may happen multiple times per millisecond. In this case they have the same \doxylink{structdxfcpp_1_1_time_series_event_a8fc390c9819bd531ef1847d6d21260ee}{time}, but different \doxylink{structdxfcpp_1_1_time_series_event_a39fffa9fafd510b6d7196c30fd60d2af}{index}. An ordering of \doxylink{structdxfcpp_1_1_time_series_event_a39fffa9fafd510b6d7196c30fd60d2af}{index} is the same as an ordering of \doxylink{structdxfcpp_1_1_time_series_event_a8fc390c9819bd531ef1847d6d21260ee}{time}. That is, an collection of time-\/series events that is ordered by \doxylink{structdxfcpp_1_1_time_series_event_a39fffa9fafd510b6d7196c30fd60d2af}{index} is ascending order will be also ordered by \doxylink{structdxfcpp_1_1_time_series_event_a8fc390c9819bd531ef1847d6d21260ee}{time} in ascending order.

Time-\/series events are a more specific subtype of \doxylink{structdxfcpp_1_1_indexed_event}{Indexed\+Event}. All general documentation and \href{IndexedEvent.html\#eventFlagsSection}{\texttt{ Event Flags}} section, in particular, applies to time-\/series events. However, the time-\/series events never come from multiple sources for the same symbol and their \doxylink{structdxfcpp_1_1_time_series_event_a88cd636f29e59354d90e0c950f8d40dd}{source} is always \doxylink{classdxfcpp_1_1_indexed_event_source_ab7bc1a5037c8e18b2adeb45237cea5eb}{DEFAULT}.

Unlike a general \doxylink{structdxfcpp_1_1_indexed_event}{Indexed\+Event} that is subscribed to via \doxylink{classdxfcpp_1_1_d_x_feed_subscription}{DXFeed\+Subscription}\} using a plain symbol to receive all events for all indices, time-\/series events are typically subscribed to using Time\+Series\+Subscription\+Symbol class to specific time range of the subscription. There is a dedicated DXFeed\+Time\+Series\+Subscription class that is designed to simplify the task of subscribing for time-\/series events.

Time\+Series\+Event\+Model class handles all the snapshot and transaction logic and conveniently represents a list of current time-\/series events ordered by their \doxylink{structdxfcpp_1_1_time_series_event_a8fc390c9819bd531ef1847d6d21260ee}{time}. It relies on the code of Abstract\+Indexed\+Event\+Model to handle this logic. Use the source code of Abstract\+Indexed\+Event\+Model for clarification on transactions and snapshot logic.

Classes that implement this interface may also implement \doxylink{structdxfcpp_1_1_lasting_event}{Lasting\+Event} interface, which makes it possible to use DXFeed\+::get\+Last\+Event() method to retrieve the last event for the corresponding symbol.

\doxyparagraph*{Publishing time-\/series}

When publishing time-\/series event with DXPublisher\+::publish\+Events() method on incoming Time\+Series\+Subscription\+Symbol the snapshot of currently known events for the requested time range has to be published first.

A snapshot is published in the {\itshape descending} order of \doxylink{structdxfcpp_1_1_time_series_event_a39fffa9fafd510b6d7196c30fd60d2af}{index} (which is the same as the descending order of \doxylink{structdxfcpp_1_1_time_series_event_a8fc390c9819bd531ef1847d6d21260ee}{time}), starting with an event with the largest index and marking it with \doxylink{structdxfcpp_1_1_indexed_event_aacdbdadf8af938b9edbe9a59830aa0b5}{SNAPSHOT\+\_\+\+BEGIN} bit in \doxylink{structdxfcpp_1_1_indexed_event_ab7b4f00787ca6ff4dfccb092780543d5}{event\+Flags}. All other event follow with default, zero \doxylink{structdxfcpp_1_1_indexed_event_ab7b4f00787ca6ff4dfccb092780543d5}{event\+Flags}. If there is no actual event at the time that was specified in subscription from\+Time property, then event with the corresponding time has to be created anyway and published. To distinguish it from the actual event, it has to be marked with \doxylink{structdxfcpp_1_1_indexed_event_ae3cd8ed3be94e645913ccd23bfc07edd}{REMOVE\+\_\+\+EVENT} bit in \doxylink{structdxfcpp_1_1_indexed_event_ab7b4f00787ca6ff4dfccb092780543d5}{event\+Flags}. \doxylink{structdxfcpp_1_1_indexed_event_a8140c207eb5efb3f656842509700366f}{SNAPSHOT\+\_\+\+END} bit in this event\textquotesingle{}s \doxylink{structdxfcpp_1_1_indexed_event_ab7b4f00787ca6ff4dfccb092780543d5}{event\+Flags} s optional during publishing. It will be properly set on receiving end anyway. Note, that publishing any event with time that is below subscription from\+Time also works as a legal indicator for the end of the snapshot.

Both \doxylink{classdxfcpp_1_1_time_and_sale}{Time\+And\+Sale} and Candle time-\/series events define a sequence property that is mixed into an \doxylink{structdxfcpp_1_1_time_series_event_a39fffa9fafd510b6d7196c30fd60d2af}{index} property. It provides a way to distinguish different events at the same time. For a snapshot end event the sequence has to be left at its default zero value. It means, that if there is an actual event to be published at subscription from\+Time with non-\/zero sequence, then generation of an additional snapshot end event with the subscription from\+Time and zero sequence is still required. 

\doxysubsubsection{Member Function Documentation}
\Hypertarget{structdxfcpp_1_1_time_series_event_abef7e1d502d589d2bde10cef8a293b6a}\label{structdxfcpp_1_1_time_series_event_abef7e1d502d589d2bde10cef8a293b6a} 
\index{dxfcpp::TimeSeriesEvent@{dxfcpp::TimeSeriesEvent}!getEventId@{getEventId}}
\index{getEventId@{getEventId}!dxfcpp::TimeSeriesEvent@{dxfcpp::TimeSeriesEvent}}
\doxyparagraph{\texorpdfstring{getEventId()}{getEventId()}}
{\footnotesize\ttfamily virtual std\+::int64\+\_\+t dxfcpp\+::\+Time\+Series\+Event\+::get\+Event\+Id (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}

Returns unique per-\/symbol index of this event.

\begin{DoxyReturn}{Returns}
unique per-\/symbol index of this event. 
\end{DoxyReturn}
\begin{DoxyRefDesc}{Deprecated}
\item[\mbox{\hyperlink{deprecated__deprecated000001}{Deprecated}}]Use \doxylink{structdxfcpp_1_1_time_series_event_a39fffa9fafd510b6d7196c30fd60d2af}{get\+Index()} \end{DoxyRefDesc}
\Hypertarget{structdxfcpp_1_1_time_series_event_a39fffa9fafd510b6d7196c30fd60d2af}\label{structdxfcpp_1_1_time_series_event_a39fffa9fafd510b6d7196c30fd60d2af} 
\index{dxfcpp::TimeSeriesEvent@{dxfcpp::TimeSeriesEvent}!getIndex@{getIndex}}
\index{getIndex@{getIndex}!dxfcpp::TimeSeriesEvent@{dxfcpp::TimeSeriesEvent}}
\doxyparagraph{\texorpdfstring{getIndex()}{getIndex()}}
{\footnotesize\ttfamily std\+::int64\+\_\+t dxfcpp\+::\+Time\+Series\+Event\+::get\+Index (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Returns unique per-\/symbol index of this event. Event indices are unique within event symbol. Typically event index for a time series event includes \doxylink{structdxfcpp_1_1_time_series_event_a8fc390c9819bd531ef1847d6d21260ee}{time} inside.

\doxyparagraph*{Implementation notes}

The most common scheme for event indices is to set highest 32 bits of event index to event timestamp in seconds. The lowest 32 bits are then split as follows. Bits 22 to 31 encode milliseconds of time stamp, and bits 0 to 21 encode some kind of a sequence number.

Ultimately, the scheme for event indices is specific for each even type. The actual classes for specific event types perform the corresponding encoding.

\begin{DoxyReturn}{Returns}
unique per-\/symbol index of this event. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{structdxfcpp_1_1_indexed_event_aae9e9062b587619ae8b5e200a49c66c2}{dxfcpp\+::\+Indexed\+Event}}.



Reimplemented in \mbox{\hyperlink{classdxfcpp_1_1_underlying_a1d0fb9aee51291050258e8481ff9bd3f}{dxfcpp\+::\+Underlying}}.

\Hypertarget{structdxfcpp_1_1_time_series_event_a88cd636f29e59354d90e0c950f8d40dd}\label{structdxfcpp_1_1_time_series_event_a88cd636f29e59354d90e0c950f8d40dd} 
\index{dxfcpp::TimeSeriesEvent@{dxfcpp::TimeSeriesEvent}!getSource@{getSource}}
\index{getSource@{getSource}!dxfcpp::TimeSeriesEvent@{dxfcpp::TimeSeriesEvent}}
\doxyparagraph{\texorpdfstring{getSource()}{getSource()}}
{\footnotesize\ttfamily const \mbox{\hyperlink{classdxfcpp_1_1_indexed_event_source}{Indexed\+Event\+Source}} \& dxfcpp\+::\+Time\+Series\+Event\+::get\+Source (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const \&\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}

Returns the source identifier for this event, which is always \doxylink{classdxfcpp_1_1_indexed_event_source_ab7bc1a5037c8e18b2adeb45237cea5eb}{DEFAULT} for time-\/series events.

\begin{DoxyReturn}{Returns}
The source identifier for this event, which is always \doxylink{classdxfcpp_1_1_indexed_event_source_ab7bc1a5037c8e18b2adeb45237cea5eb}{DEFAULT} for time-\/series events. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{structdxfcpp_1_1_indexed_event_a7faa078d92c4dfa028ed282e57a44bbe}{dxfcpp\+::\+Indexed\+Event}}.



Reimplemented in \mbox{\hyperlink{classdxfcpp_1_1_underlying_a39751b0252b25e18f437a7cd29c62fa4}{dxfcpp\+::\+Underlying}}.

\Hypertarget{structdxfcpp_1_1_time_series_event_a8fc390c9819bd531ef1847d6d21260ee}\label{structdxfcpp_1_1_time_series_event_a8fc390c9819bd531ef1847d6d21260ee} 
\index{dxfcpp::TimeSeriesEvent@{dxfcpp::TimeSeriesEvent}!getTime@{getTime}}
\index{getTime@{getTime}!dxfcpp::TimeSeriesEvent@{dxfcpp::TimeSeriesEvent}}
\doxyparagraph{\texorpdfstring{getTime()}{getTime()}}
{\footnotesize\ttfamily virtual std\+::int64\+\_\+t dxfcpp\+::\+Time\+Series\+Event\+::get\+Time (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [pure virtual]}}

Returns timestamp of the event. The timestamp is in milliseconds from midnight, January 1, 1970 UTC.

\begin{DoxyReturn}{Returns}
timestamp of the event. 
\end{DoxyReturn}


Implemented in \mbox{\hyperlink{classdxfcpp_1_1_time_and_sale_ad10b2a395eaf0b060e2cda5e416506d5}{dxfcpp\+::\+Time\+And\+Sale}}, \mbox{\hyperlink{classdxfcpp_1_1_greeks_ad886408ff8ffcdc4c33752f1cd746812}{dxfcpp\+::\+Greeks}}, \mbox{\hyperlink{classdxfcpp_1_1_theo_price_aaf3c2000d8345ea9e45430c4a69454b8}{dxfcpp\+::\+Theo\+Price}}, and \mbox{\hyperlink{classdxfcpp_1_1_underlying_a55e87e436c21ec82cf9990b6ca97e98b}{dxfcpp\+::\+Underlying}}.

